Finding the Relationship Between Health Factors and Life Expectancy
Marc Bazemore
The University of the Cumberlands
Introduction to Artificial Intelligence (MSAI-511-A01)
Deya Banisakher
2/9/2025 

Introduction:
Health, environment, resources, and disease are closely associated with life expectancy. Tracking factors like Body Mass Index (BMI), alcohol consumption, country of residence, and diagnosis of fatal diseases such as HIV/AIDS can provide valuable metrics on the average age of death in a population. For example, studies have shown that drinking alcohol is linked to cancers involving the liver, colon, breast, mouth, throat, and esophagus; however, less than half of the US is aware of this (Shmerling,2025). Using data from the Global Health Observatory (GHO) data repository under the World Health Organization (WHO), we will examine 2938 observations from several countries and review their health status and related factors. Below are the features in the dataset we will assess in the forthcoming analysis. The raw dataset, images, and Jupyter Notebook Python code for this examination can be found in my GitHub repository: justbaze/Life_Expectancy_Predictor_Multiple_Regression (Bazemore, 2025).
Features include:	 	 
Country	HIV\AIDS	Measles
Year	Hepatitis B	BMI
Life expectancy	Polio	Status
Adult mortality	Diphtheria	Prevalence for malnutrition 5-9
Infant mortality	GDP	Education
Alcohol consumption	Population	Total expenditure on health
Expenditure on health (%)	Prevalence for malnutrition 1-19	 

Results:
Starting with reading the data in Python from the raw dataset, we can perform feature engineering on the population size, lifestyle, economy, and death ratio. Starting with population size, we will take a look at population sizes: large (100,000 or more), medium (30,000 to 99,999), small (1,000 to 29,999), and unknown (missing or unexpected values). The population totals result in large = 1,874 entries, medium = 176 entries, small = 205 entries, and unknown/missing values = 683 entries.
Next, we look at lifestyle to create a feature combining alcohol consumption and BMI, resulting in values ranging from high risk - overweight/high alcohol = 1210, moderate - lean/low alcohol = 746, moderate - fit/moderate alcohol = 397, low risk - lean/low alcohol = 374, and unknown/missing data = 211.
Additionally, we can review the economic GDP feature by combining population and GDP. Extracting these features, we generate a large population to low GDP = 1584 entries, strong economy to high GDP = 273 entries, small economy to low GDP = 341 entries, small but high GDP = 66 entries, and unknown (missing values) = 674 entries.
Lastly, looking at the death ratio between adult and infant mortality, there is high variability with 848 entries in the dataset where infant deaths are zero or missing data. The remaining ratios represent a low death ratio closer to 1, a moderate death ratio between 2-5, and a high death ratio over 5. The mean death ratio is 3.04, which falls in the moderate range. However, there is a large volume of outliers with 848 missing values out of 2938, presenting a vast amount of skewness and requiring data cleaning to get more reliable results. 
To clean the data, we will identify the unknown/missing values, combine mean, median, and forward fill imputation, and drop any remaining fragmented observations. The observations identified that were missing values were life expectancy = 10, adult mortality = 10, alcohol = 194, hepatitis B = 553, BMI = 34, Polio = 19, total expenditure = 226, Diphtheria = 19, GDP = 448, population = 652, thinness 1-19 years = 34, thinness 5-9 years = 34, income composition of resources = 167, and schooling = 163. After the data cleansing is completed by imputing the missing values and dropping any remaining fragmented observations, we have a dataset with zero missing values. 
Now that we have a clean dataset, we can dive deeper into the target variable (life expectancy) and the various predictors to evaluate relationships and patterns. Once evaluation is complete, log transform can be applied to linearize relationships/patterns that suggest non-linearity. The plots show that Adult Mortality, GDP, Population, Total Expenditure, and Alcohol can benefit from log transform. 
  
Adult mortality benefits from log transform because it shows a curved relationship in addition to values spread out over a wide range, and a log transform can improve linearity. GDP shows a diminishing relationship with life expectancy, which a log transform can help linearize. Population has a wide distribution and does not show any linear clustering, which log transform can help compress and improve values. Log transform can help reduce the spread in total expenditure. Lastly, alcohol shows a wide range of variance that log transform can help improve.  
Heatmaps are helpful visualization tools to show representations of data to help identify correlations within a dataset. Setting a threshold of 0.75 and generating a correlation heat map for the GHO data set, we can see areas of correlation at or above the set threshold with infant deaths to under-five deaths (correlation: 1.0), percentage expenditure to GDP (correlation: 0.93), and thinness 1-19 years to thinness 5-9 years (correlation: 0.93). 
 
We will drop these columns with correlations over 0.75 to eliminate multicollinearity, remove under-five deaths, percentage expenditure, and thinness 5-9 years, and regenerate the heatmap for a new visual representation. 
 
Furthering our visual representations into the GHO data, we can create box and whisker plots to display variations. These plots are good for showing outliers and comparing different sets of data. 
 
In reviewing the plot, we can work on analyzing and answering the following question: Should a country with a lower life expectancy value (<65) increase its healthcare expenditure to improve its average lifespan? What is the impact of schooling on the lifespan of humans? Does life Expectancy have a positive or negative relationship with drinking alcohol? And do densely populated countries tend to have a lower life expectancy?
Starting with the first question, should a country with a lower life expectancy value (<65) increase its healthcare expenditure to improve its average lifespan, we can begin answering that question by calculating a correlation of life expectancy to total expenditure, generating a value of .21, which is not a strong relationship between the two variables. Using the life expectancy to total expenditure relationship value in relation the countries with a life expectancy < 65 (5.38%) and countries with a life expectancy ≥ 65 (6.14%), it appears that countries with lower life expectancy have slightly lower healthcare spending compared to those with higher life expectancy. This does not suggest that an increase in healthcare expenditures is necessary.
Looking at the impact of schooling on the lifespan of humans, we find a strong correlation between life expectancy and schooling, with a value of 0.73. This would mean that countries with better education tend to have longer lifespans, pointing to the possibility that improving education impacts life expectancy.
Alcohol consumption is always an intense topic of discussion regarding whether it has a positive or negative relationship with life expectancy. Here, we find that life expectancy for alcohol has a value of 0.38, a moderate relationship between the two. Moderate drinking has been suggested to have health benefits, making you 25% to 40% less likely to have a heart attack, stroke, or hardened arteries (Robinson, MD, 2023). This relationship could be reflected in higher-income countries with better healthcare systems; however, it is worth noting that heavy drinking of alcohol is proven to have negative health impacts. 
Lastly, we look at whether densely populated countries tend to have a lower life expectancy, and the correlation value of -0.03 between life expectancy and population clearly shows no relationship between the two. Factors like healthcare access and the economy may play a role in this negative correlation.
Breaking things down further, we will split the data into two sets: 75% for training and 25% for testing. After splitting the data, we get a training set of 2,203 samples and a testing set of 735 samples. Next, we train the linear regression model and evaluate the performance on the training set, test set, and the entire dataset. The performance of the training, test, and entire dataset reflects a mean square error (MSE) of 16.83 on the training set and an R squared of 0.81(which represents the model explaining 81% of the variance in the training data), an MSE of 17.48 on the test set and an R squared of 0.80 (80%), and an MSE of 16.99 on the entire dataset and an R squared of 0.81 (81%). The R squared scores falling in at approximately 0.81 (81%) across all data sets is a good indicator of the model explaining much of the variance in life expectancy. 
We will assess model performance using metrics Root Mean Square Error (RMSE), Mean Absolute Percentage Error (MAPE), and R2 Score. The result of the model performance using these metrics results in RMSE = 4.10, MAPE = 4.70%, and R squared = 0.81 (81%) for the training set, RMSE = 4.18, MAPE = 4.66%, and R squared = 0.80 (80%) for the test set, and RMSE = 4.12, MAPE = 4.7%, and R squared = 0.81 (81%) for the entire dataset. Low RMSE and MAPE, in addition to the previously consistent R squared between the training, testing, and entire dataset, show us that the model performs well in predicting life expectancy without overfitting. 
Adding to the visualizations in evaluating the data, we will draw a residual scatter plot between the expected life expectancy on the x-axis and predicted life expectancy on the y-axis. The scatter plot contains an ideal unity line representing cases when predicted life expectancy is the same as expected life expectancy. The plot contains dotted error lines corresponding to +/- 5 colored as yellow and +/- 10 years colored as red.
 
Breaking down the information displayed in the scatter plot, we see the green dotted line representing an ideal relationship between predicted and actual life expectancy. The closer the data points, the more accurate the model. The yellow dotted lines represent the +/- 5 acceptable range of error, and the red dotted lines represent the broader +/- 10 range of error. This information shows that a large population of data points falls within the yellow lines, indicating that the model's accuracy is generally accurate. Datapoints outside the red lines reflect cases where the model's predictions significantly deviate (more than +/- 10 years) from actual values. The cases could be due to several factors where the model did not do well capturing. Overall, since most data points are closer to the green dotted line (ideal relationship), the model has strong predictive power, similar to the previously observed RMSE, MAPE, and R squared metrics.     
Continuing our data visualization, we create a residual histogram to show the differences between actual and predicted life expectancy. 
 
As you can see, the histogram is bell-shaped and centered around 0, which indicates that the residuals roughly match a normal distribution and suggests the model's interpretation of normally distributed errors. The high level of 0 means that only a minority of predictions deviate from actual values, and the majority are within the +/- 10 range. Because the histogram is relatively symmetric, the model does not appear to be biased toward overpredicting or underpredicting life expectancy.
After performing cross-validation to check if the linear regression model has data overfit, we derive a mean cross-validation R squared score of 0.78 and a standard deviation of cross-validation score of 0.03. The mean cross-validation score is slightly lower than the R squared obtained from the entire dataset (0.81) but still high enough to suggest the model is not overfitting and performs well on unseen data. The low standard deviation of 0.03 indicates consistent performance across the various data splits, confirming the model's successful generalization and showing no overfitting. 
Generating a box plot to display model performance for each fold shows the distribution of R squared obtained from the 5-fold cross-validation. This allows us to evaluate the consistency and potential overfitting of the linear regression model. 
 
The red line near 0.80 represents the median R squared score, indicating most folds explain about 80% of the variance in life expectancy. While this score is slightly lower than the overall score, the results again suggest that the model’s general performance is reliable.
Determining the mean and standard deviation of overall performance, we get a mean cross-validation value of 0.78 (78%) and a standard deviation of 0.018. This suggests, on average, that the model explains 78% of the variance in life expectancy during cross-validation, and with a low standard deviation, the model performs evenly across different folds.  
Lastly, we will determine the minimum number of features that must be included to ensure that all the data is bound within the error lines mentioned above. We will conduct a feature selection analysis using recursive feature elimination (RFE) combined with cross-validation to do this.
 
As we can see from the graph, the optimal number of features is 11 to make sure the model captures most of the variance within the error lines previously mentioned. The optimal 11 features for this summary are Year, Adult Mortality, Alcohol, BMI, Polio, Total expenditure, Diphtheria, HIV/AIDS, thinness 1-19 years, Income composition of resources, and Schooling.

Conclusion:
During the ’70s and ’80s, zookeepers made an effort around the world to breed their animal populations in captivity, but there was one outlier that would not breed: the cheetah. The breeding program in South Africa had a roughly 15 percent success rate, while other animals like elephants and giraffes had no problems breeding like rabbits (O'Brien, 2003). Geneticist Stephen O’Brien studied this issue and found that cheetahs had the same genes, resulting in the discovery that Cheetahs were not successfully breeding due to inbreeding. At some point, the cheetah population was severely impacted, and making a choice for survival, a single female cheetah chose incest over extinction. While this is an extreme example of variables that affect actual vs. predicted life expectancy, it demonstrates the vast array of environmental conditions and their impacts on all life and life expectancy.
The cheetah's life expectancy was cut short by their population, ultimately leading to a lower life expectancy due to their genetics, similar to adult life expectancy rates being impacted in countries with higher and lower healthcare expenditures. While it is easy to see when there are differences in actual and predicted life expectancies, it is not until we evaluate the raw data using different methods and visualization to make correlations. Using machine learning, we can separate data points and make predictions to understand events better, allowing us to make informed decisions.  
The data we have reviewed has provided informative insights, showing us that when it comes to schooling, longer lifespans are correlated to countries with better education, moderate alcohol consumption is less likely to cause heart attacks, and easy access to health care leads to higher life expectancy. While some of these observations may seem obvious, it is not until we evaluate large sets of data that we can comfortably make any conclusions and take action. After thoroughly unpacking various relationships between health, environment, resources, and disease on life expectancy and confirming the accuracy of machine learning algorithms, we can start to address any potential problem areas in a targeted manner.

References:
Shmerling, R. H. (2025, January 27). Alcohol and your health: Risks, benefits, and controversies. Harvard Health. https://www.health.harvard.edu/blog/alcohol-and-your-health-risks-benefits-and-controversies-202501273088 
Robinson, MD , J. (2023, January 28). Surprising ways alcohol may be good for you. WebMD. https://www.webmd.com/diet/ss/slideshow-alcohol-health-benefits
Bazemore, M. (2025). Life_Expectancy_Predictor_Multiple_Regression GitHub. justbaze/Life_Expectancy_Predictor_Multiple_Regression
O’Brien, S. J. (2003). Tears of the Cheetah. The genetic secrets of our animal ancestors. St. Martin’s Publishing Group. 
